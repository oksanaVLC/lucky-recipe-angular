<div class="wrapper">
  <!-- Barra de búsqueda reutilizable -->
  <app-search-bar (search)="searchTerm = $event"></app-search-bar>

  <!-- Scrollable bar de categorías -->
  <div class="scrollmenu">
    <a href="#">Destacados</a>
    <a href="#">Fáciles</a>
    <a href="#">Desayuno</a>
    <a href="#">Repostería</a>
    <a href="#">Últimas</a>
    <a href="#">Más populares</a>
    <a href="#">Veganos</a>
    <a href="#">Para niños</a>
  </div>

  <!-- Hero image -->
  <div class="hero-image">
    <img
      src="assets/images/hero-image.webp"
      alt="Hero image"
      class="hero-picture responsive-image"
    />

    <!-- SMOKE -->
    <div class="smoke-container">
      <div class="smoke-wrap">
        <img class="smoke" src="assets/images/vapor.webp" alt="smoke" />
      </div>
      <div class="smoke-wrap">
        <img class="smoke2" src="assets/images/vapor.webp" alt="smoke" />
      </div>
      <div class="smoke-wrap">
        <img class="smoke3" src="assets/images/vapor.webp" alt="smoke" />
      </div>
    </div>

    <!-- CONTENIDO -->
    <div class="content-container">
      <div class="hero-text">
        <h1>
          Elige tu receta <br />
          del día:
        </h1>
        <button class="arrow-button" (click)="chooseRandomRecipe()">
          <span class="gold-gradient-suerte">¡Suerte!</span>
          <span class="arrow">→</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Overlay Loader -->
  <app-loader *ngIf="isLoading"></app-loader>

  <h1 class="decorated-title">Recetas destacadas</h1>

  <!-- Grid de recetas -->
  <div *ngIf="!isLoading" class="recipe-grid">
    <app-recipe-card
      *ngFor="let recipe of paginatedRecipes; trackBy: trackByRecipeId"
      [recipe]="recipe"
      [truncateShortDescription]="true"
      [shortDescriptionLength]="20"
    >
    </app-recipe-card>
  </div>

  <!-- Recetas del Mundo -->
  <h1 class="decorated-title">Recetas del mundo</h1>
  <div class="country-cards-grid">
    <a href="#" class="country-card">
      <img src="assets/images/greece.webp" alt="Greece" />
      <div class="country-name">Greece</div>
    </a>
    <a href="#" class="country-card">
      <img src="assets/images/russia.webp" alt="Russia" />
      <div class="country-name">Russia</div>
    </a>
    <a href="#" class="country-card">
      <img src="assets/images/turkey.webp" alt="Turkey" />
      <div class="country-name">Turkey</div>
    </a>
    <a href="#" class="country-card">
      <img src="assets/images/spain.webp" alt="Spain" />
      <div class="country-name">Spain</div>
    </a>
    <a href="#" class="country-card">
      <img src="assets/images/france.webp" alt="France" />
      <div class="country-name">France</div>
    </a>
    <a href="#" class="country-card">
      <img src="assets/images/japan.webp" alt="Japan" />
      <div class="country-name">Japan</div>
    </a>
  </div>

  <!-- Recetas del Mundo 2 -->
  <h1 class="decorated-title">Recetas del mundo 2</h1>

  <div class="country-cards-grid">
    <a
      *ngFor="let country of countries; let i = index"
      href="#"
      class="country-card"
      [@slideIn]="i % 2 === 0 ? 'left' : 'right'"
    >
      <img [src]="country.img" [alt]="country.name" loading="lazy" />
      <div class="country-name">{{ country.name }}</div>
    </a>
  </div>

  <!-- Paginación -->
  <div class="pagination" *ngIf="totalPages > 1">
    <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">◀</button>

    <button
      *ngFor="let p of [].constructor(totalPages); let i = index"
      (click)="changePage(i + 1)"
      [class.active]="currentPage === i + 1"
    >
      {{ i + 1 }}
    </button>

    <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">▶</button>
  </div>
</div>
