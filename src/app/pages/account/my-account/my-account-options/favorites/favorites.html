<div class="favorites-wrapper">
  <div class="title-row">
    <app-back-button-small></app-back-button-small>

    <h1 class="gold-gradient">Mis recetas favoritas ({{ favoriteRecipes.length }})</h1>
  </div>

  <!-- Botones de vista -->
  <div class="botones-vista">
    <svg
      (click)="viewMode = 'grid'"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
    >
      <rect x="3" y="3" width="7" height="7" />
      <rect x="14" y="3" width="7" height="7" />
      <rect x="3" y="14" width="7" height="7" />
      <rect x="14" y="14" width="7" height="7" />
    </svg>

    <svg
      (click)="viewMode = 'list'"
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="16"
      viewBox="0 0 24 16"
      fill="currentColor"
    >
      <circle cx="2" cy="2" r="2" />
      <rect x="6" y="0.5" width="18" height="3" rx="1" />

      <circle cx="2" cy="8" r="2" />
      <rect x="6" y="6.5" width="18" height="3" rx="1" />

      <circle cx="2" cy="14" r="2" />
      <rect x="6" y="12.5" width="18" height="3" rx="1" />
    </svg>
  </div>

  <!-- Vista según modo -->
  <ng-container *ngIf="favoriteRecipes.length; else emptyList">
    <app-favorite-recipes-grid
      *ngIf="viewMode === 'grid'"
      [recipes]="favoriteRecipes"
      (view)="viewRecipe($event)"
      (remove)="confirmRemove($event)"
    ></app-favorite-recipes-grid>

    <app-favorite-recipes-list
      *ngIf="viewMode === 'list'"
      [recipes]="favoriteRecipes"
      (view)="viewRecipe($event)"
      (remove)="confirmRemove($event)"
    ></app-favorite-recipes-list>
  </ng-container>

  <ng-template #emptyList>
    <p>No tienes recetas favoritas todavía.</p>
  </ng-template>
</div>

<!-- Modal confirmar quitar favorito -->
<div class="draft-modal" *ngIf="showConfirm">
  <div class="modal-content">
    <h3>Quitar de favoritos</h3>
    <p>{{ confirmMessage }}</p>

    <div class="modal-actions">
      <button class="btn-cancel" (click)="cancelRemove()">Cancelar</button>
      <button class="btn-confirm" (click)="removeConfirmed()">Quitar</button>
    </div>
  </div>
</div>
