<article class="recipe-card" *ngIf="recipe">
  <!-- IMAGEN / SLIDER -->
  <div class="image-slider">
    <!-- Botón anterior -->
    <button *ngIf="images.length > 1" class="prev-btn" (click)="prevImage()">◀</button>

    <!-- Imagen principal -->
    <a
      class="image-link"
      [routerLink]="['/recipe', recipe.id]"
      aria-label="Ver detalle de la receta"
    >
      <img [src]="displayImage" [alt]="recipe.title" class="slider-image" />
    </a>

    <!-- Botón siguiente -->
    <button *ngIf="images.length > 1" class="next-btn" (click)="nextImage()">▶</button>

    <!-- LIKE -->
    <button
      *ngIf="showLikeButton"
      class="like-btn like-counter"
      [class.active]="isFavorite"
      (click)="toggleLike($event)"
      aria-label="Me gusta"
    >
      <span class="heart">♥</span>
      <span class="count">{{ likesCount }}</span>
    </button>

    <!-- Share -->
    <div class="bottom-buttons">
      <button
        *ngIf="showShareButton"
        class="share-icon"
        aria-label="Compartir"
        (click)="copyLink()"
      >
        <img src="assets/images/share.png" alt="Compartir" />
      </button>

      <!-- Mensaje de copia -->
      <span class="copy-msg" *ngIf="copied">¡Link copiado!</span>
    </div>
  </div>

  <!-- CONTENIDO -->
  <div class="card-content">
    <h2 class="title">
      {{ recipe.title }}
      <span class="star gold-gradient">★★★★★</span>
    </h2>

    <p class="card-text">{{ shortText }}<span *ngIf="showEllipsis">...</span></p>

    <!-- Autor -->
    <div class="author">
      <img [src]="'assets/images/yo.jpg'" alt="Autor" class="avatar" />
      <div class="author-info">
        <span class="author-name">{{ recipe.author?.name }}</span>
        <a class="author-link" [routerLink]="['/perfil', recipe.author?.id]"> Ver sus recetas </a>
      </div>
    </div>
  </div>
</article>
