<article class="recipe-card" *ngIf="recipe">
  <!-- IMAGEN / SLIDER -->
  <div class="image-slider">
    <!-- BotÃ³n anterior -->
    <button *ngIf="images.length > 1" class="prev-btn" (click)="prevImage()">â—€</button>

    <!-- Imagen principal -->
    <a
      class="image-link"
      [routerLink]="['/recipe', recipe.id]"
      aria-label="Ver detalle de la receta"
    >
      <img [src]="displayImage" [alt]="recipe.title" class="slider-image" />
    </a>

    <!-- BotÃ³n siguiente -->
    <button *ngIf="images.length > 1" class="next-btn" (click)="nextImage()">â–¶</button>

    <!-- CorazÃ³n top-right -->
    <button
      *ngIf="showLikeButton"
      class="like-btn"
      [class.active]="isFavorite"
      (click)="toggleFavorite()"
      aria-label="Me gusta"
    >
      <img
        [src]="isFavorite ? 'assets/images/red-heart.png' : 'assets/images/grey-heart.png'"
        alt="like"
      />
    </button>

    <!-- Share bottom-right -->
    <div class="bottom-buttons">
      <button *ngIf="showShareButton" class="share-icon" aria-label="Compartir">ðŸ”—</button>
    </div>
  </div>

  <!-- CONTENIDO -->
  <div class="card-content">
    <h2 class="title">
      {{ recipe.title }}
      <!-- Estrella dorada -->
      <span class="star gold-gradient">â˜…â˜…â˜…â˜…â˜…</span>
    </h2>

    <p class="card-text">{{ shortText }}<span *ngIf="showEllipsis">...</span></p>

    <!-- Autor -->
    <div class="author">
      <!-- <img [src]="recipe.author?.avatar || 'assets/images/4p.webp'" alt="Autor" class="avatar" /> -->
      <img [src]="'assets/images/yo.jpg'" alt="Autor" class="avatar" />
      <div class="author-info">
        <span class="author-name">{{ recipe.author?.name }}</span>
        <a class="author-link" [routerLink]="['/perfil', recipe.author?.id]">Ver sus recetas</a>
      </div>
    </div>
  </div>
</article>
